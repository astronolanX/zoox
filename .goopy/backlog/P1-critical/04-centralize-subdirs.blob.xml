<blob type="thread" scope="project" status="active" updated="2026-01-08" v="2">
  <summary>Centralize KNOWN_SUBDIRS constant</summary>
  <context>
    Subdirectory list duplicated in 4+ locations. Already caused bugs when
    contexts and facts were missing from some lists. Need single source of
    truth, preferably derived from BlobType enum.
    Confidence: 1.0 (bug already occurred and fixed).
  </context>
  <files>
    <file>src/goopy/blob.py</file>
    <file>src/goopy/cli.py</file>
  </files>
  <facts>
    <fact>Severity: HIGH</fact>
    <fact>Confidence: 1.0</fact>
    <fact>Effort: 1 day</fact>
    <fact>Locations: blob.py:316, 407, 415; cli.py:103, 180</fact>
  </facts>
  <next>
    <step>Create SUBDIR_MAP constant: BlobType -> subdir name</step>
    <step>Create KNOWN_SUBDIRS list derived from SUBDIR_MAP</step>
    <step>Replace all hardcoded lists with constant</step>
    <step>Add test to verify all BlobTypes have subdirs</step>
  </next>
  <related>
    <ref>05-atomic-writes</ref>
  </related>
</blob>
